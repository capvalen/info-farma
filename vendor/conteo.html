<!DOCTYPE html>
<html>
<head>
	<title>conteo</title>
</head>
<body>

</body>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script type="text/javascript" src="js/moment.js"></script>
<script type="text/javascript">
var totalImprimir=40;
//var producto ='Naproxeno Sodigo 550mg'
var producto = '2 und. Mumfer Fierro Pollimaltosa + Acido Folico 100mg';
var precio = 'S/. 45.00';
var espacioslibres='';

var lineaEntera = producto+precio;
console.log(lineaEntera)
console.log('tamaÃ±o total: '+ lineaEntera.length)
console.log('calculo de linea '+lineaEntera.length/totalImprimir)


if (lineaEntera.length/totalImprimir>1){
	console.log('dos lineas')
	var cantlibres=40-lineaEntera.length%40;
console.log('espacios libres para ultima linea '+ cantlibres)

for (var i = cantlibres - 1; i >= 0; i--) {
	espacioslibres+=' ';
};
var lineaImpr=producto+ espacioslibres+precio;
console.log(lineaImpr)
console.log(lineaImpr.length)
}
else{console.log('una linea');
var cantlibres=parseInt(totalImprimir-lineaEntera.length);
console.log('espacios libres en ultima linea '+ parseInt(totalImprimir-lineaEntera.length))

for (var i = cantlibres - 1; i >= 0; i--) {
	espacioslibres+=' ';
};
var lineaImpr=producto+ espacioslibres+precio;
console.log(lineaImpr)
console.log(lineaImpr.length)

}
moment.locale('es');

$.ajax({url: 'localhost:8080/vendor/windows-lpt.php', type:'POST', data:{hora: moment().format('dddd[,] DD/MMMM/YYYY h:mm a') }}).done(function (argument) {
	// body...
})
  </script>

</html>